HTMLElement.prototype.getAbstractElement = function() {
	if(this._obj) return this._obj;
	var obj = new Object();
	for(var i in Features) {
		var value = Features[i].extract(this);
		if(value) obj[i] = value;
	}
	this._obj = obj;
	return obj
};

HTMLElement.prototype.getPath = function() {
	if(this._path) return this._path;
	var el = this;
	var path = []
	while(el != document.body) {
		path.unshift(el.getAbstractElement());
		el = el.parentNode;
	}
	this._path = path;
	return path;
}

var GrabSelector = function() {
	var selected = new SimpleSet();
	var rejected = new SimpleSet();

	this.selected = selected.toArray();
	this.rejected = rejected.toArray();
	this.select = function(el) {
		selected.add(el);
	};
	this.deselect = function(el) {
		selected.remove(el);
		console.log(selected.toArray());
	};
	this.reject = function(el) {
		rejected.add(el);
	};
	this.dereject = function(el) {
		rejected.remove(el);
	};
}

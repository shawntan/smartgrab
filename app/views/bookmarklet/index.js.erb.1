/**
 * @author shawn
 */
(function() {
//begin constants
	var url_bookmarklet_home = "<%= url_for(	:action => 'index', 			:controller => 'bookmarklet', :only_path => false) %>";
	var url_stylesheet_home = "<%= url_for(		:action => 'stylesheet', 		:controller => 'bookmarklet',:format => :css, :only_path => false) %>";
	var url_load_annotations = "<%= url_for(	:action => 'extractor', 		:controller => 'bookmarklet',:format =>:js, :only_path => false) %>";
	var url_create_annotation= "<%= url_for(	:action => 'annotate', 			:controller => 'bookmarklet', :only_path => false) %>";
	var url_set_annotations = "<%= url_for(		:action => 'save_suggestions', 	:controller => 'bookmarklet', :only_path => false) %>";
	var styles = {
		interface: "parcels_interface",
		selected:"parcels_selected",
		rejected:"parcels_rejected",
		highlighted:"parcels_highlight"
	}
	var classignorelist = [styles.selected,styles.rejected,styles.highlighted,styles.interface];
//end of constants
//Load CSS
	(function(){
		var link = document.createElement("link");
		link.rel = "stylesheet";
		link.type = "text/css";
		link.href = stylesheet_home;
		document.getElementsByTagName("head")[0].appendChild(link);
	})();
//end load css;
//HACK:problem with sites using prototype
	if(window.Prototype) {
		delete Object.prototype.toJSON;
		delete Array.prototype.toJSON;
		delete Hash.prototype.toJSON;
		delete String.prototype.toJSON;
	}
//end HACK
var exit; //function to exit.
<%=render :partial => 'util'%>
<%=render :partial => 'connection'%>
<%=render :partial => 'selector'%>
<%=render :partial => 'window'%>
<%=render :partial => 'box'%>
<%=render :partial => 'main_interface'%>
<%=render :partial => 'interface'%>
})();

